# Apple Retail Sales — SQL Analytics Project

## Описание проекта
Данный проект посвящён аналитике розничных продаж Apple на основе синтетического датасета с Kaggle.  
Цель проекта — продемонстрировать навыки **аналитика данных** в области:

- проектирования базы данных
- работы с SQL (PostgreSQL)
- проверки и очистки данных
- аналитических запросов
- подготовки данных для BI-дашбордов
- построения дашбордов

> **Важно:**  
> Данные являются **синтетическими**, сгенерированными с использованием Python и LLM-моделирования.  
> Они **не относятся к реальным данным Apple Inc.**

---

## Структура репозитория
```
apple-retail-sales-analytics
│
├── data/
│ └── Apple_Retail_DATA.zip # Исходные CSV-данные (Kaggle)
│
├── sql/
│ ├── create_tables.sql # Создание таблиц и связей
│ ├── data_quality_checks.sql # Проверки качества данных
│ ├── data_quality_issue.sql # Анализ проблемных данных
│ ├── analytic_sales_view.sql # Основное аналитическое представление (VIEW)
│ ├── analytics_sales_valid.sql # VIEW с очищенными и валидными данными
│ └── analytics.sql # Аналитические SQL-запросы
│
├── er-diagram.PNG # ER-диаграмма базы данных
├── README.md
├── dashboards/
│ ├── apple_retail_sales_dashboard.pbix
│ ├── 1.Dashboard Executive Overview.jpg
│ ├── 2.Dashboard Product & Performance Analysis.jpg
│ ├── 3.Dashboard Quality & Risks.jpg
```
---

## Используемая СУБД

**PostgreSQL**

### Основные таблицы:
- `sales` — продажи
- `products` — товары
- `category` — категории товаров
- `stores` — магазины
- `warranty` — гарантийные обращения

Связи между таблицами описаны в `create_tables.sql`.  
ER-диаграмма доступна в файле `er-diagram.PNG`.

---

## Проверка качества данных

В рамках проекта выполнена проверка данных.
Было обнаружено, что **≈47% записей содержат продажи с датой раньше даты выпуска товара**, что является логическим несоответствием.
В реальных бизнес-сценариях такая ситуация невозможна, что указывает на ограничения синтетического набора данных и особенности генерации дат.

Подробнее:
- `data_quality_checks.sql`
- `data_quality_issue.sql`

---

## Очистка данных

Для корректного анализа было создано отдельное представление:

- `analytics_sales_valid`

В него включены **только валидные записи**.

---

## Аналитические запросы

В файле `analytics.sql` реализованы аналитические запросы:

### Продажи и выручка
- Топ-10 самых продаваемых товаров
- Топ-5 стран и магазинов по выручке
- Средний чек по магазинам
- Кумулятивная выручка по месяцам
- Выручка по годам и рост год-к-году (YoY)

### Продуктовая аналитика
- Средняя цена и выручка по категориям
- Товары с высокой ценой и низким объёмом продаж

### Гарантийные случаи
- Количество гарантийных случаев по странам
- Товары с частыми гарантийными обращениями

Используемые техники SQL:
- `JOIN`
- `CTE`
- оконные функции
- агрегации
- `CASE WHEN`
- фильтрация валидных данных

---

## Дашборды

В проекте используется **Power BI** для визуализации данных:

Дашборд наглядно представляет ключевые бизнес-метрики и позволяет выявить закономерности в продажах по времени, географии, товарам и магазинам.

---

## Инструменты и технологии

- PostgreSQL
- SQL
- Power BI
- DAX
- Git / GitHub

---

##  Выводы

Выручка демонстрирует устойчивый рост во времени, без резких спадов.
Есть несколько ключевых стран, которые вносят основной вклад в общую выручку.
Наиболее продаваемыми категориями товаров являются: accessories, smartphone, wearable, desktop, tablet, audio.
Лидером по количеству гарантийных случаев среди стран являются США, это объясняется тем, что в этой стране находится наибольшее количество магазинов,
но также может указывать на региональные особенности эксплуатации или логистики.
Некоторые товары имеют высокую цену, но низкий объём продаж — потенциальные кандидаты для пересмотра стратегии.

---

##  Рекомендации

- Сфокусироваться на развитии топ-регионов и топ-магазинов.
- Проанализировать товары с высокой ценой и низким спросом.
- Углубить анализ гарантийных случаев по категориям товаров.
